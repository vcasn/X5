<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title>X5</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="img/favicon.ico">
    <link href="css/style.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="shortcut icon" href="img/favicon.ico">
  </head>
<body>
<div class="bar">

<!-- X5 Pontos -->
  <div class="pic"><div class="text-x5">X<a style="font-size: 1.9rem;">5</a><a style="font-size: .7rem;">TOP PONTUADORES</a></div></div>
</br></br></br></br></br></br>
  <div class="player" style="color: rgba(11, 232, 129,1.0); background-color: rgba(30, 39, 46,0.2);"><i class="fa-solid fa-1"></i> <i class="fa-solid fa-minus"></i> Nego <div class="pts">7 pts</div></div>
  <div class="player" style="color: rgba(11, 232, 129,1.0); background-color: rgba(30, 39, 46,0.2);"><i class="fa-solid fa-2"></i> <i class="fa-solid fa-minus"></i> Nathan <div class="pts">4 pts</div></div>
  <div class="player" style="color: rgba(11, 232, 129,1.0); background-color: rgba(30, 39, 46,0.2);"><i class="fa-solid fa-3"></i> <i class="fa-solid fa-minus"></i> Pedra <div class="pts">4 pts</div></div>
  <div class="player"><i class="fa-solid fa-4"></i> <i class="fa-solid fa-minus"></i> Gagibol <div class="pts">4 pts</div></div>
  <div class="player"><i class="fa-solid fa-5"></i> <i class="fa-solid fa-minus"></i> Lewander <div class="pts">1 pts</div></div>
<br>
<!-- Fim X5 Pontos -->


<div class="criterios">
vitória < 25 minutos de partida / +2 pontos<br>
vitória > 25 minutos de partida / +1 pontos<br><br>

derrota < 25 minutos de partida / -2 pontos<br>
derrota > 25 minutos de partida / -1 pontos<br><br>

ordem de critérios de desempate:<br>
1. winrate;<br>
2. quantidade de partidas;<br>
3. dano em objetivos.<br><br>
<i class="fa-solid fa-gears"></i> CTRL + F5 para atualizar
</div>
</div>
<div class="footer">
  <div class="line"><i style="letter-spacing: 2px;" class="fa-solid fa-ranking-star"></i> “neste lugar solitário, onde a vaidade se apaga, todo o fraco faz força e todo o valente se caga”</div>
  <a><i class="far fa-copyright"></i> X5. Todos os direitos reservados.
</a>
  <a style="float: right; font-size: 24px; letter-spacing: 3px; cursor: pointer; margin-top: -8px;"><i class="fa-brands fa-discord"></i></a>
</div>
<div class="container">
  <div class="logo"><i style="letter-spacing: 6px; color: #040c05; font-size: 1.7rem;" class="fa-solid fa-trophy"></i> X<a style="font-size: .9rem;">5</a></div>
<ul>
  <li><a href="index.html"><i class="fa-solid fa-ranking-star" style="letter-spacing: 5px;"></i> Ranking</a></li>
  <li><a href="partidas.html"><i class="fa-solid fa-gamepad" style="letter-spacing: 5px;"></i> Partidas</a></li>
</ul>
<div class="table-wrapper">
<table id="dataTable" class="fl-table">
<caption>
        <p>Ranking atualizado em 20/11/2024.&nbsp;<span>― </span><b>*</b><span> valores médios.</span></p>
    </caption>
    <thead>
        <tr>
            <th>Jogador</th>
            <th>KDA *</th>
            <th>Dano aos Objetivos *</th>
            <th>Placar de Visão *</th>
            <th>Vitórias</th>
            <th>Derrotas</th>
            <th>Winrate </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Arranca</td>
            <td>5.4 / 5.5 / 6.8</td>
            <td>11.246,60</td>
            <td>29.6</td>
            <td>5</td>
            <td>5</td>
            <td>50%</td>
            <td>1 0 1 0 1</td>
        </tr>
        <tr>
            <td>Bitcoin</td>
            <td>2.5 / 5.5 / 10</td>
            <td>15.473,50</td>
            <td>27</td>
            <td>1</td>
            <td>1</td>
            <td>50%</td>
            <td>0 1</td>
        </tr>
        <tr>
            <td>Bruno</td>
            <td>5.6 / 5.5 / 6.5</td>
            <td>15.589,42</td>
            <td>29</td>
            <td>5</td>
            <td>7</td>
            <td>42%</td>
            <td>0 0 1 1 1</td>
        </tr>
        <tr>
            <td>Cros</td>
            <td>0 / 7 / 15</td>
            <td>5.710,00</td>
            <td>106</td>
            <td>1</td>
            <td>1</td>
            <td>50%</td>
            <td>1 0</td>
        </tr>
        <tr>
            <td>Dithin</td>
            <td>3.7 / 7.3 / 11.3</td>
            <td>31.172,67</td>
            <td>43</td>
            <td>1</td>
            <td>2</td>
            <td>33%</td>
            <td>1 0 0</td>
        </tr>
        <tr>
            <td>Gagibol</td>
            <td>6.5 / 4 / 8.5</td>
            <td>21.541,47</td>
            <td>32.8</td>
            <td>9</td>
            <td>6</td>
            <td>60%</td>
            <td>1 1 1 0 0</td>
        </tr>
        <tr>
            <td>Guerra</td>
            <td>6.6 / 4.4 / 8.9</td>
            <td>8.858,33</td>
            <td>28.8</td>
            <td>5</td>
            <td>5</td>
            <td>50%</td>
            <td>0 1 0 1 1</td>
        </tr>
        <tr>
            <td>Lewander</td>
            <td>5.1 / 5.1 / 9.5</td>
            <td>23.673,50</td>
            <td>43.1</td>
            <td>7</td>
            <td>7</td>
            <td>50%</td>
            <td>0 0 0 0 1</td>
        </tr>
        <tr>
            <td>Lopes</td>
            <td>3.7 / 5.5 / 4.3</td>
            <td>7.682,50</td>
            <td>30.7</td>
            <td>2</td>
            <td>4</td>
            <td>33%</td>
            <td>0 0 1 0 1</td>
        </tr>
        <tr>
            <td>Nathan</td>
            <td>9.3 / 5.2 / 7.5</td>
            <td>9.301,27</td>
            <td>18.8</td>
            <td>8</td>
            <td>3</td>
            <td>73%</td>
            <td>1 1 1 1 0</td>
        </tr>
        <tr>
            <td>Nego</td>
            <td>7.8 / 6.3 / 8.5</td>
            <td>26.527,00</td>
            <td>24.5</td>
            <td>9</td>
            <td>3</td>
            <td>75%</td>
            <td>1 1 0 1 1</td>
        </tr>
        <tr>
            <td>Pedra</td>
            <td>7.5 / 5.3 / 7.3</td>
            <td>12.974,50</td>
            <td>20.5</td>
            <td>7</td>
            <td>3</td>
            <td>70%</td>
            <td>1 1 1 1 0</td>
        </tr>
        <tr>
            <td>Vinao</td>
            <td>1.7 / 4.7 / 12.5</td>
            <td>3.329,38</td>
            <td>96</td>
            <td>7</td>
            <td>7</td>
            <td>50%</td>
            <td>0 0 0 1 0</td>
        </tr>
        <tr>
            <td>Vitin</td>
            <td>2.6 / 5.6 / 9</td>
            <td>8.294,45</td>
            <td>41.2</td>
            <td>4</td>
            <td>9</td>
            <td>31%</td>
            <td>0 1 0 0 0</td>
        </tr>
        <tr>
            <td>puremal</td>
            <td>2.3 / 5 / 18</td>
            <td>6.089,00</td>
            <td>83</td>
            <td>3</td>
            <td>0</td>
            <td>100%</td>
            <td>1 1 1</td>
        </tr>
        <tr>
            <td>prayy</td>
            <td>9.5 / 4.8 / 5.6</td>
            <td>10.556,50</td>
            <td>14.2</td>
            <td>1</td>
            <td>3</td>
            <td>25%</td>
            <td>0 1 0 0</td>
        </tr>
        <tr>
            <td>Braian</td>
            <td>3.3 / 4.7 / 17.7</td>
            <td>7.665,00</td>
            <td>67.3</td>
            <td>2</td>
            <td>1</td>
            <td>67%</td>
            <td>1 0 1</td>
        </tr>
        <tr>
            <td>Nolei</td>
            <td>3.3 / 8.3 / 6.7</td>
            <td>2.207,00</td>
            <td>49.3</td>
            <td>0</td>
            <td>3</td>
            <td>0%</td>
            <td>0 0 0</td>
        </tr>
        <tr>
            <td>undefined</td>
            <td>1 / 3.8 / 9.5</td>
            <td>4.913,25</td>
            <td>55.8</td>
            <td>2</td>
            <td>2</td>
            <td>50%</td>
            <td>0 0 1 1</td>
        </tr>
    </tbody>
</table>
</div>
<script>
// Função para substituir os valores na coluna "Últ. Jogos" por bolinhas
function substituirUltimosJogos() {
    const tabela = document.querySelector("#dataTable tbody");
    
    // Verifica se a tabela existe
    if (!tabela) return;

    const linhas = tabela.querySelectorAll("tr");

    // Percorre cada linha da tabela
    linhas.forEach(linha => {
        const celula = linha.cells[7]; // Seleciona a coluna "Últ. Jogos"
        
        if (celula) {
            // Obtém o conteúdo atual e divide pelos espaços
            const valores = celula.textContent.trim().split(" ");
            
            // Limpa o conteúdo da célula
            celula.innerHTML = "";

            // Substitui os valores por bolinhas
            valores.forEach(valor => {
                const span = document.createElement("span");
                if (valor === "1") {
                    span.className = "green-circle";
                } else if (valor === "0") {
                    span.className = "red-circle";
                }
                celula.appendChild(span);
            });
        }
    });
}

// Função para ordenar a tabela com base no winrate
function ordenarTabela() {
    const tabela = document.querySelector(".fl-table");
    const linhas = Array.from(tabela.rows).slice(1); // Pular a linha de cabeçalho

    linhas.sort((a, b) => {
        const valorA = parseFloat(a.cells[6].innerText.replace('%', ''));
        const valorB = parseFloat(b.cells[6].innerText.replace('%', ''));
        
        // Primeira prioridade: ordenar por porcentagem do 7º TH
        if (valorA !== valorB) return valorB - valorA;
        
        // Segunda prioridade (em caso de empate): ordenar pelo valor do 3º TH
        const valorA3 = parseFloat(a.cells[2].innerText);
        const valorB3 = parseFloat(b.cells[2].innerText);
        return valorB3 - valorA3;
    });
}
  
// Função para remover jogadores com menos de 5 partidas
function removerJogadoresComBaixoTH() {
    const tabela = document.querySelector("#dataTable tbody");
    
    if (!tabela) return;
    const linhas = Array.from(tabela.rows);

    linhas.forEach(linha => {
        const vitorias = parseInt(linha.cells[4].textContent);
        const derrotas = parseInt(linha.cells[5].textContent);
        if (vitorias + derrotas < 5) {
            linha.remove();
        }
    });
}

// Executar funções após o carregamento da página
document.addEventListener('DOMContentLoaded', () => {
    removerJogadoresComBaixoTH();
    ordenarTabela();
    substituirUltimosJogos();
});
</script>
</br></br>
</body>
</html>
