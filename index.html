<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title>X5</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="img/favicon.ico">
    <link href="css/style.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="shortcut icon" href="img/favicon.ico">
  </head>
<body>
<div class="bar">

<!-- X5 Pontos -->
  <div class="pic"><div class="text-x5">X<a style="font-size: 1.9rem;">5</a><a style="font-size: .7rem;">TOP PONTUADORES</a></div></div>
</br></br></br></br></br></br>
  <div class="player" style="color: rgba(11, 232, 129,1.0); background-color: rgba(30, 39, 46,0.2);"><i class="fa-solid fa-1"></i> <i class="fa-solid fa-minus"></i> Gagibol <div class="pts">4 pts</div></div>
  <div class="player" style="color: rgba(11, 232, 129,1.0); background-color: rgba(30, 39, 46,0.2);"><i class="fa-solid fa-2"></i> <i class="fa-solid fa-minus"></i> Pedra <div class="pts">4 pts</div></div>
  <div class="player" style="color: rgba(11, 232, 129,1.0); background-color: rgba(30, 39, 46,0.2);"><i class="fa-solid fa-3"></i> <i class="fa-solid fa-minus"></i> Vitin <div class="pts">3 pts</div></div>
  <div class="player"><i class="fa-solid fa-4"></i> <i class="fa-solid fa-minus"></i> Bruno <div class="pts">2 pts</div></div>
  <div class="player"><i class="fa-solid fa-5"></i> <i class="fa-solid fa-minus"></i> Hammiy <div class="pts">1 pts</div></div>
<br>
<!-- Fim X5 Pontos -->


<div class="criterios">
vitória < 25 minutos de partida / +2 pontos<br>
vitória > 25 minutos de partida / +1 pontos<br><br>

derrota < 25 minutos de partida / -2 pontos<br>
derrota > 25 minutos de partida / -1 pontos<br><br>

ordem de critérios de desempate:<br>
1. winrate;<br>
2. quantidade de partidas;<br>
3. dano em objetivos.<br><br>
<i class="fa-solid fa-gears"></i> CTRL + F5 para atualizar
</div>
</div>
<div class="footer">
  <div class="line"><i style="letter-spacing: 2px;" class="fa-solid fa-ranking-star"></i> “neste lugar solitário, onde a vaidade se apaga, todo o fraco faz força e todo o valente se caga”</div>
  <a><i class="far fa-copyright"></i> X5. Todos os direitos reservados.
</a>
  <a style="float: right; font-size: 24px; letter-spacing: 3px; cursor: pointer; margin-top: -8px;"><i class="fa-brands fa-discord"></i></a>
</div>
<div class="container">
  <div class="logo"><i style="letter-spacing: 6px; color: #040c05; font-size: 1.7rem;" class="fa-solid fa-trophy"></i> X<a style="font-size: .9rem;">5</a></div>
<ul>
  <li><a href="index.html"><i class="fa-solid fa-ranking-star" style="letter-spacing: 5px;"></i> Ranking</a></li>
  <li><a href="partidas.html"><i class="fa-solid fa-gamepad" style="letter-spacing: 5px;"></i> Partidas</a></li>
  <li class="dropdown">
    <a href="#" class="dropdown-button"><i class="fa-solid fa-trophy" style="letter-spacing: 5px;"></i> Temporadas</a>
    <ul class="dropdown-content">
      <li><a href="2024.html" style="text-align: center;">Temporada 2024</a></li>
      <li><a href="index.html" style="text-align: center;">Temporada 2025</a></li>
    </ul>
  </li>
</ul>
<div class="table-wrapper">
<table id="dataTable" class="fl-table">
<caption>
        <p>Ranking atualizado em 16/02/2025.&nbsp;<span>― </span><b>*</b><span> valores médios.</span></p>
    </caption>
    <thead>
        <tr>
            <th>Jogador</th>
            <th>KDA *</th>
            <th><i style="cursor: pointer; font-style: normal;">Dano aos Objetivos *</i></th>
            <th><i style="cursor: pointer; font-style: normal;">Placar de Visão *</i></th>
            <th>Vitórias</th>
            <th>Derrotas</th>
            <th><i style="cursor: pointer; font-style: normal;">Winrate</i></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Arranca</td>
            <td>12.5 / 4.5 / 4.5</td>
            <td>23.915,50</td>
            <td>14</td>
            <td>2</td>
            <td>0</td>
            <td>100%</td>
            <td>1 1</td>
        </tr>
        <tr>
            <td>Bruno</td>
            <td>5.8 / 5.2 / 9.2</td>
            <td>21.046,80</td>
            <td>27.2</td>
            <td>3</td>
            <td>2</td>
            <td>60%</td>
            <td>1 1 0 1 0</td>
        </tr>
        <tr>
            <td>Dithin</td>
            <td>4.6 / 7.2 / 9.6</td>
            <td>31.172,67</td>
            <td>43</td>
            <td>0</td>
            <td>0</td>
            <td>40%</td>
            <td>1 0 0 1 0</td>
        </tr>
        <tr>
            <td>Gagibol</td>
            <td>7.4 / 5.8 / 11</td>
            <td>25.172,00</td>
            <td>28.2</td>
            <td>4</td>
            <td>1</td>
            <td>80%</td>
            <td>1 0 1 1 1</td>
        </tr>
        <tr>
            <td>Guerra</td>
            <td>3 / 4 / 2</td>
            <td>579,00</td>
            <td>13</td>
            <td>0</td>
            <td>1</td>
            <td>0%</td>
            <td>0</td>
        </tr>
        <tr>
            <td>Lewander</td>
            <td>3.7 / 4.7 / 17.3</td>
            <td>4.483,33</td>
            <td>82</td>
            <td>3</td>
            <td>0</td>
            <td>100%</td>
            <td>1 1 1</td>
        </tr>
        <tr>
            <td>Lopes</td>
            <td>4 / 5.3 / 4.9</td>
            <td>9.109,86</td>
            <td>29.3</td>
            <td>0</td>
            <td>0</td>
            <td>43%</td>
            <td>0 1 0 1 1</td>
        </tr>
        <tr>
            <td>Nathan</td>
            <td>2.7 / 6 / 6</td>
            <td>5.920,67</td>
            <td>18.3</td>
            <td>0</td>
            <td>3</td>
            <td>0%</td>
            <td>0 0 0</td>
        </tr>
        <tr>
            <td>Nego</td>
            <td>5 / 7.3 / 5.3</td>
            <td>32.400,67</td>
            <td>19.3</td>
            <td>1</td>
            <td>2</td>
            <td>33%</td>
            <td>0 0 1</td>
        </tr>
        <tr>
            <td>Pedra</td>
            <td>8.2 / 4.4 / 4.2</td>
            <td>7.336,40</td>
            <td>23</td>
            <td>4</td>
            <td>1</td>
            <td>80%</td>
            <td>1 1 0 1 1</td>
        </tr>
        <tr>
            <td>Vinao</td>
            <td>1.7 / 4.7 / 12.5</td>
            <td>3.329,38</td>
            <td>96</td>
            <td>0</td>
            <td>0</td>
            <td>50%</td>
            <td>0 0 0 1 0</td>
        </tr>
        <tr>
            <td>Vitin</td>
            <td>3.3 / 4.7 / 12.7</td>
            <td>16.719,17</td>
            <td>39.7</td>
            <td>5</td>
            <td>1</td>
            <td>83%</td>
            <td>1 1 1 0 1</td>
        </tr>
        <tr>
            <td>puremal</td>
            <td>2.3 / 5 / 18</td>
            <td>6.089,00</td>
            <td>83</td>
            <td>0</td>
            <td>0</td>
            <td>100%</td>
            <td>1 1 1</td>
        </tr>
        <tr>
            <td>prayy</td>
            <td>6.5 / 5 / 5</td>
            <td>8.771,50</td>
            <td>10.5</td>
            <td>0</td>
            <td>2</td>
            <td>0%</td>
            <td>0 0</td>
        </tr>
        <tr>
            <td>Braian</td>
            <td>3.3 / 4.7 / 17.7</td>
            <td>7.665,00</td>
            <td>67.3</td>
            <td>0</td>
            <td>0</td>
            <td>67%</td>
            <td>1 0 1</td>
        </tr>
        <tr>
            <td>undefined</td>
            <td>4 / 5.3 / 9.3</td>
            <td>6.631,67</td>
            <td>48.2</td>
            <td>2</td>
            <td>4</td>
            <td>33%</td>
            <td>0 0 1 1 0</td>
        </tr>
        <tr>
            <td>Hammiy</td>
            <td>6.2 / 6 / 9.8</td>
            <td>12.811,00</td>
            <td>55.8</td>
            <td>3</td>
            <td>2</td>
            <td>60%</td>
            <td>0 0 1 1 1</td>
        </tr>
        <tr>
            <td>Malta</td>
            <td>3 / 6.7 / 8.5</td>
            <td>1.853,83</td>
            <td>35.3</td>
            <td>1</td>
            <td>5</td>
            <td>17%</td>
            <td>0 0 0 0 1</td>
        </tr>
        <tr>
            <td>Dzu</td>
            <td>4 / 3 / 5.5</td>
            <td>9.419,00</td>
            <td>17</td>
            <td>1</td>
            <td>3</td>
            <td>25%</td>
            <td>0 0 1 0</td>
        </tr>
    </tbody>
</table>
</div>
<script>
// Função para substituir os valores na coluna "Últ. Jogos" por bolinhas
function substituirUltimosJogos() {
    const tabela = document.querySelector("#dataTable tbody");
    
    if (!tabela) return;

    const linhas = tabela.querySelectorAll("tr");

    linhas.forEach(linha => {
        const celula = linha.cells[7]; // Seleciona a coluna "Últ. Jogos"
        
        if (celula) {
            const valores = celula.textContent.trim().split(" ");
            celula.innerHTML = "";

            valores.forEach(valor => {
                const span = document.createElement("span");
                if (valor === "1") {
                    span.className = "green-circle";
                } else if (valor === "0") {
                    span.className = "red-circle";
                }
                celula.appendChild(span);
            });
        }
    });
}

// Função para ordenar a tabela inicialmente com base no winrate e dano aos objetivos
function ordenarTabelaInicialmente() {
    const tabela = document.querySelector("#dataTable tbody");
    if (!tabela) return;

    const linhas = Array.from(tabela.rows);
    linhas.sort((a, b) => {
        const winrateA = parseFloat(a.cells[6].textContent.replace('%', ''));
        const winrateB = parseFloat(b.cells[6].textContent.replace('%', ''));

        if (winrateA === winrateB) {
            const danoA = parseFloat(a.cells[2].textContent.replace(',', '.'));
            const danoB = parseFloat(b.cells[2].textContent.replace(',', '.'));
            return danoB - danoA;
        }

        return winrateB - winrateA;
    });

    linhas.forEach(linha => tabela.appendChild(linha));
}

// Função para ordenar a tabela com base na coluna clicada
function ordenarTabelaPorColuna(colunaIndex) {
    const tabela = document.querySelector("#dataTable tbody");
    if (!tabela) return;

    const linhas = Array.from(tabela.rows);

    linhas.sort((a, b) => {
        const valorA = parseFloat(a.cells[colunaIndex].textContent.replace(',', '.'));
        const valorB = parseFloat(b.cells[colunaIndex].textContent.replace(',', '.'));

        return valorB - valorA;
    });

    linhas.forEach(linha => tabela.appendChild(linha));
}

// Função para remover jogadores com menos de 5 partidas
function removerJogadoresComBaixoTH() {
    const tabela = document.querySelector("#dataTable tbody");
    if (!tabela) return;

    const linhas = Array.from(tabela.rows);

    linhas.forEach(linha => {
        const vitorias = parseInt(linha.cells[4].textContent);
        const derrotas = parseInt(linha.cells[5].textContent);
        if (vitorias + derrotas < 5) {
            linha.remove();
        }
    });
}

// Adicionar evento para destacar o filtro ativo
function adicionarEfeitoFiltroAtivo() {
    const filtros = document.querySelectorAll("#dataTable thead th");

    filtros.forEach((filtro, index) => {
        if ([2, 3, 6].includes(index)) { // Índices das colunas clicáveis
            filtro.addEventListener("click", () => {
                // Remove o destaque de todos os filtros
                filtros.forEach(f => f.classList.remove("filtro-ativo"));

                // Adiciona o destaque ao filtro clicado
                filtro.classList.add("filtro-ativo");

                // Ordena a tabela com base na coluna clicada
                ordenarTabelaPorColuna(index);
            });
        }
    });
}

// Executar tudo após o carregamento da página
document.addEventListener("DOMContentLoaded", () => {
    removerJogadoresComBaixoTH();
    ordenarTabelaInicialmente();
    substituirUltimosJogos();
    adicionarEfeitoFiltroAtivo();
});

document.addEventListener("DOMContentLoaded", function () {
  const dropdownButtons = document.querySelectorAll(".dropdown-button");

  dropdownButtons.forEach((button) => {
    button.addEventListener("click", function (e) {
      e.preventDefault(); // Impede o comportamento padrão do link
      const parent = this.parentElement;
      parent.classList.toggle("show"); // Alterna a classe "show" no elemento pai
    });
  });

  // Fecha o dropdown se clicar fora dele
  document.addEventListener("click", function (e) {
    const dropdowns = document.querySelectorAll(".dropdown");
    dropdowns.forEach((dropdown) => {
      if (!dropdown.contains(e.target)) {
        dropdown.classList.remove("show");
      }
    });
  });
});
</script>
</br></br>
</body>
</html>
